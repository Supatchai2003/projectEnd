<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</title>
  <link rel="stylesheet" href="device_list.css">
</head>

<body>

  <h1 class="title">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h1>

  <div class="device-container">
    <div class="header">
      <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>
      <h2>‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
      <div class="actions">
        <button class="icon-btn" onclick="showHistoryPopup()">üïí</button>
      </div>
    </div>

    <div id="device-list" class="device-list"></div>
  </div>

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏° -->
  <button class="add-btn" onclick="showPopup()">Ôºã</button>

  <!-- Popup ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå -->
  <div class="popup-overlay" id="popup">
    <div class="popup-box">
      <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h3>
      <input type="text" id="piid" placeholder="‡πÉ‡∏™‡πà Serial ID">
      <div class="popup-buttons">
        <button class="cancel-btn" onclick="hidePopup()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="confirm-btn" onclick="addDevice()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
      </div>
    </div>
  </div>

  <!-- Popup ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ -->
  <div class="popup-overlay" id="history-popup">
    <div class="popup-box">
      <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</h3>
      <button class="history-option" onclick="goToHistory('summary')">üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</button>
      <button class="history-option" onclick="goToHistory('daily')">üìÖ ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤</button>
      <div class="popup-buttons">
        <button class="cancel-btn" onclick="hideHistoryPopup()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- Popup ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç -->
  <div class="popup-overlay" id="edit-popup">
    <div class="popup-box">
      <h3>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h3>

      <div class="field"><label>Ip Server :</label> <span id="v-ip"></span></div>
      <div class="field"><label>Serial ID :</label> <input id="v-serial" type="text"></div>
      <div class="field"><label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ :</label> <span id="v-status"></span></div>
      <div class="field"><label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô :</label> <span id="v-date"></span></div>

      <div class="popup-buttons">
        <button class="delete-btn" onclick="deleteDevice()">‡∏•‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</button>
        <button class="cancel-btn" onclick="hideEditPopup()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="confirm-btn" onclick="confirmEdit()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
      </div>
    </div>
  </div>

  <!-- ‡πÄ‡∏°‡∏ô‡∏π -->
  <div class="hamburger-menu" id="menu">
    <button onclick="goHome()">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
    <button onclick="logout()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="device_list.js"></script>
</body>

</html>
